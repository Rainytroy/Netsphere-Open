这个项目起名叫Netsphere，是因为我对《Blame!》这部漫画的喜爱。

# 项目简述

本项目旨在构建一个平台：

- 核心由AI驱动的NPC、工作任务和工作流三部分组成。

- 设计者是可以按照自己的需求创建NPC、工作任务和工作流，并交付给用户。

- 当工作流开始运行的时候，将产生一次交互式对话，使用者在对话过程中输入信息，整个工作流运行完毕后，使用者将得到一个完整的，成体系的工作结果。



## 用户

平台上有两种用户：设计者和使用者

设计者：设计者利用这个平台定制工作流，提供给使用者

使用者：在平台上使用设计者创建的工作流来满足自己的业务需求



## **NPC**

NPC，用户可以设置该NPC的知识背景、行动原则和积极性参数，还包括NPC可调用的专属文件，包括图片、文档和联网搜索。

- 知识背景是一段预设的prompt，归属和关联于该NPC，用于描述它应该具备的预设的能力，例如：知识背景是「擅长数据分析的运营人员」，或者是「一个CRM产品专家」。这个描述也可以更复杂，列出例如Job Description一样详细的说明。

- 行动原则也是一段预设的prompt，用于定义这个NPC的行动原则，对最终NPC输出的任务做约束。例如：「所有的输出内容必须以结构化的形式进行罗列说明，并在最后进行总结」。

- 但是本质上，知识背景和行动原则都是预设的prompt，写入的文本是什么取决于设计者的考虑，我仅仅是从定义上提示使用者需要考虑这段prompt应该包含的内容。

- 积极性参数是一个关于NPC的属性参数，是一个变量，会在工作任务运行过程中根据各种条件变化，变化的参数将影响下一个任务的执行方式和结果。我们会在开发中详细设计这个过程。

- NPC专属的文档、图片将在任务运行过程中被调用，以帮助处理工作任务。



## **工作任务**

设计者可以创建一个工作任务，在工作任务中，设计者将仔细的设计prompt，并指派一个NPC去负责处理该任务。系统将读取NPC的知识背景、行动原则和积极性，组合最终的prompt，交由AI处理并返回信息。AI输出的内容即工作任务的结果。

工作任务的核心结构分为三个部分，输入、处理和输出。



### 输入

在一个任务中，输入的内容最终会组合成一个完整的prompt，但会来自于不同的部分进行组合

- **全局变量：**设计者在创建工作任务并设计prompt的过程中，设计者可以将全局变量插入的prompt编辑区。全局变量是在整个项目中被存储的、不同来源的文本信息。

- **Prompt编辑区：**设计者可以构建自己的prompt，并将全局变量插入其中。Prompt编辑区中的文本，再和NPC的知识背景、行动原则的文本组装在一起，加上文档、图片内容，形成多模态的输入信息。



### 处理

最终的prompt将被通过API传递给AI进行处理。

- 平台会接入不同的AI，用户可以在设置工作任务时，决定调用哪个AI服务商来处理任务。

- 平台会向设计者提供一个管理界面，管理不同的AI服务的API KEY。



### 输出

最终的输出结果是文本内容。这个文本内容被会存储为一个全局变量，以供后续任务调用，或者在工作流中作为其他用途。



## 工作流

当设计者创建多个工作任务之后，可以通过流程设计把工作任务连接在一起，形成一个工作流，用于处理更复杂的需求。

工作流的设计需求更为复杂，会在项目完成一个阶段后以单独的文档提供。



## 全局变量

全局变量会被所有的创建的任务共享和调用，全局变量以文本形式存储，可以在工作任务中插入，和其他文本一同拼装为prompt，再由AI进行处理。

[Netsphere 全局变量和工作任务的prompt组合规则 PRD](https://flowus.cn/b0ddb654-378d-4fb9-b6e6-59c362e8f4c4)

